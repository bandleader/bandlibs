var Vug=function(e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};function r(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function n(e,t){var r,n;return l.includes(e)?((r={})[e]=i(t),r):s[e]?((n={})[s[e]]=i(t),n):null}function i(e){return/^-?([0-9]*\.)?[0-9]+q$/.test(e)?.25*parseFloat(e)+"rem":e}var o=f((function(e){return e.key.startsWith("style_")&&!e.isExpr&&/^-?([0-9]*\.)?[0-9]+q$/.test(e.value)?new x(e.key,.25*parseFloat(e.value)+"rem",!1):e})),a={b:"block",i:"inline",f:"flex",g:"grid",ib:"inline-block",if:"inline-flex",ig:"inline-grid"};var s={ac:"align-content",ai:"align-items",as:"align-self",b:"bottom",bc:"border-color",bcb:"border-bottom-color",bcl:"border-left-color",bcr:"border-right-color",bct:"border-top-color",bd:"border",bdb:"border-bottom",bdl:"border-left",bdr:"border-right",bdt:"border-top",bg:"background",bga:"background-attachment",bgc:"background-color",bgclip:"background-clip",bcgi:"background-image",bgo:"background-origin",bgp:"background-position",bgr:"background-repeat",bgs:"background-size",bs:"border-style",bsb:"border-bottom-style",bsl:"border-left-style",bsr:"border-right-style",bst:"border-top-style",bw:"border-width",bwb:"border-bottom-width",bwl:"border-left-width",bwr:"border-right-width",bwt:"border-top-width",c:"color",cg:"column-gap",d:"display",e:"ease",ec:"ease-colors",eo:"ease-opacity",et:"ease-transform",ff:"font-family",fl:"flex",flb:"flex-basis",fld:"flex-direction",flf:"flex-flow",flg:"flex-grow",fls:"flex-shrink",flw:"flex-wrap",fs:"font-size",fw:"font-weight",g:"gap",ga:"grid-area",gac:"grid-auto-columns",gaf:"grid-auto-flow",gar:"grid-auto-rows",gc:"grid-column",gce:"grid-column-end",gcg:"grid-column-gap",gcs:"grid-column-start",gr:"grid-row",gre:"grid-row-end",grg:"grid-row-gap",grs:"grid-row-start",gt:"grid-template",gta:"grid-template-areas",gtc:"grid-template-columns",gtr:"grid-template-rows",h:"height",jac:"place-content",jai:"place-items",jas:"place-self",jc:"justify-content",ji:"justify-items",js:"justify-self",l:"left",lh:"line-height",ls:"letter-spacing",m:"margin",mb:"margin-bottom",ml:"margin-left",mr:"margin-right",mt:"margin-top",o:"opacity",of:"overflow",ofa:"overflow-anchor",ofx:"overflow-x",ofy:"overflow-y",origin:"transform-origin",p:"padding",pb:"padding-bottom",pe:"pointer-events",pl:"padding-left",pos:"position",pr:"padding-right",pt:"padding-top",r:"right",rd:"border-radius",rdbl:"border-bottom-left-radius",rdbr:"border-bottom-right-radius",rdtl:"border-top-left-radius",rdtr:"border-top-right-radius",rg:"row-gap",shadow:"box-shadow",t:"top",ta:"text-align",td:"text-decoration",tdc:"text-decoration-color",tdl:"text-decoration-line",tds:"text-decoration-style",tdsi:"text-decoration-skip-ink",tdt:"text-decoration-thickness",te:"text-emphasis",tec:"text-emphasis-color",tep:"text-emphasis-position",tes:"text-emphasis-style",ts:"text-shadow",tt:"text-transform",tween:"transition",us:"user-select",va:"vertical-align",w:"width",ws:"white-space",zi:"z-index"},l="--*|-webkit-line-clamp|accent-color|align-content|align-items|align-self|alignment-baseline|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|appearance|aspect-ratio|azimuth|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|baseline-shift|baseline-source|block-ellipsis|block-size|block-step|block-step-align|block-step-insert|block-step-round|block-step-size|bookmark-label|bookmark-level|bookmark-state|border|border-block|border-block-color|border-block-end|border-block-end-color|border-block-end-style|border-block-end-width|border-block-start|border-block-start-color|border-block-start-style|border-block-start-width|border-block-style|border-block-width|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-boundary|border-collapse|border-color|border-end-end-radius|border-end-start-radius|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-inline|border-inline-color|border-inline-end|border-inline-end-color|border-inline-end-style|border-inline-end-width|border-inline-start|border-inline-start-color|border-inline-start-style|border-inline-start-width|border-inline-style|border-inline-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-start-end-radius|border-start-start-radius|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-decoration-break|box-shadow|box-sizing|box-snap|break-after|break-before|break-inside|caption-side|caret|caret-color|caret-shape|chains|clear|clip|clip-path|clip-rule|color|color-adjust|color-interpolation-filters|color-scheme|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|contain|contain-intrinsic-block-size|contain-intrinsic-height|contain-intrinsic-inline-size|contain-intrinsic-size|contain-intrinsic-width|container|container-name|container-type|content|content-visibility|continue|counter-increment|counter-reset|counter-set|cue|cue-after|cue-before|cursor|direction|display|dominant-baseline|elevation|empty-cells|fill|fill-break|fill-color|fill-image|fill-opacity|fill-origin|fill-position|fill-repeat|fill-rule|fill-size|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|float-defer|float-offset|float-reference|flood-color|flood-opacity|flow|flow-from|flow-into|font|font-family|font-feature-settings|font-kerning|font-language-override|font-optical-sizing|font-palette|font-size|font-size-adjust|font-stretch|font-style|font-synthesis|font-synthesis-small-caps|font-synthesis-style|font-synthesis-weight|font-variant|font-variant-alternates|font-variant-caps|font-variant-east-asian|font-variant-emoji|font-variant-ligatures|font-variant-numeric|font-variant-position|font-variation-settings|font-weight|footnote-display|footnote-policy|forced-color-adjust|gap|glyph-orientation-vertical|grid|grid-area|grid-auto-columns|grid-auto-flow|grid-auto-rows|grid-column|grid-column-end|grid-column-start|grid-row|grid-row-end|grid-row-start|grid-template|grid-template-areas|grid-template-columns|grid-template-rows|hanging-punctuation|height|hyphenate-character|hyphenate-limit-chars|hyphenate-limit-last|hyphenate-limit-lines|hyphenate-limit-zone|hyphens|image-orientation|image-rendering|image-resolution|initial-letter|initial-letter-align|initial-letter-wrap|inline-size|inline-sizing|input-security|inset|inset-block|inset-block-end|inset-block-start|inset-inline|inset-inline-end|inset-inline-start|isolation|justify-content|justify-items|justify-self|leading-trim|left|letter-spacing|lighting-color|line-break|line-clamp|line-grid|line-height|line-height-step|line-padding|line-snap|list-style|list-style-image|list-style-position|list-style-type|margin|margin-block|margin-block-end|margin-block-start|margin-bottom|margin-break|margin-inline|margin-inline-end|margin-inline-start|margin-left|margin-right|margin-top|margin-trim|marker|marker-end|marker-knockout-left|marker-knockout-right|marker-mid|marker-pattern|marker-segment|marker-side|marker-start|mask|mask-border|mask-border-mode|mask-border-outset|mask-border-repeat|mask-border-slice|mask-border-source|mask-border-width|mask-clip|mask-composite|mask-image|mask-mode|mask-origin|mask-position|mask-repeat|mask-size|mask-type|max-block-size|max-height|max-inline-size|max-lines|max-width|min-block-size|min-height|min-inline-size|min-intrinsic-sizing|min-width|mix-blend-mode|nav-down|nav-left|nav-right|nav-up|object-fit|object-position|offset|offset-anchor|offset-distance|offset-path|offset-position|offset-rotate|opacity|order|orphans|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-anchor|overflow-block|overflow-clip-margin|overflow-inline|overflow-wrap|overflow-x|overflow-y|overscroll-behavior|overscroll-behavior-block|overscroll-behavior-inline|overscroll-behavior-x|overscroll-behavior-y|padding|padding-block|padding-block-end|padding-block-start|padding-bottom|padding-inline|padding-inline-end|padding-inline-start|padding-left|padding-right|padding-top|page|page-break-after|page-break-before|page-break-inside|pause|pause-after|pause-before|perspective|perspective-origin|pitch|pitch-range|place-content|place-items|place-self|play-during|pointer-events|position|print-color-adjust|property-name|quotes|region-fragment|resize|rest|rest-after|rest-before|richness|right|rotate|row-gap|ruby-align|ruby-merge|ruby-overhang|ruby-position|running|scale|scroll-behavior|scroll-margin|scroll-margin-block|scroll-margin-block-end|scroll-margin-block-start|scroll-margin-bottom|scroll-margin-inline|scroll-margin-inline-end|scroll-margin-inline-start|scroll-margin-left|scroll-margin-right|scroll-margin-top|scroll-padding|scroll-padding-block|scroll-padding-block-end|scroll-padding-block-start|scroll-padding-bottom|scroll-padding-inline|scroll-padding-inline-end|scroll-padding-inline-start|scroll-padding-left|scroll-padding-right|scroll-padding-top|scroll-snap-align|scroll-snap-stop|scroll-snap-type|scrollbar-color|scrollbar-gutter|scrollbar-width|shape-image-threshold|shape-inside|shape-margin|shape-outside|spatial-navigation-action|spatial-navigation-contain|spatial-navigation-function|speak|speak-as|speak-header|speak-numeral|speak-punctuation|speech-rate|stress|string-set|stroke|stroke-align|stroke-alignment|stroke-break|stroke-color|stroke-dash-corner|stroke-dash-justify|stroke-dashadjust|stroke-dasharray|stroke-dashcorner|stroke-dashoffset|stroke-image|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-origin|stroke-position|stroke-repeat|stroke-size|stroke-width|tab-size|table-layout|text-align|text-align-all|text-align-last|text-combine-upright|text-decoration|text-decoration-color|text-decoration-line|text-decoration-skip|text-decoration-skip-box|text-decoration-skip-ink|text-decoration-skip-inset|text-decoration-skip-self|text-decoration-skip-spaces|text-decoration-style|text-decoration-thickness|text-edge|text-emphasis|text-emphasis-color|text-emphasis-position|text-emphasis-skip|text-emphasis-style|text-group-align|text-indent|text-justify|text-orientation|text-overflow|text-shadow|text-space-collapse|text-space-trim|text-spacing|text-transform|text-underline-offset|text-underline-position|text-wrap|top|transform|transform-box|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|translate|unicode-bidi|user-select|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch|voice-range|voice-rate|voice-stress|voice-volume|volume|white-space|widows|width|will-change|word-boundary-detection|word-boundary-expansion|word-break|word-spacing|word-wrap|wrap-after|wrap-before|wrap-flow|wrap-inside|wrap-through|writing-mode|z-index".split("|");function c(e){var t=function(e){return"css"===e.tag||e.tag.startsWith("css:")},i=e.children.filter(t);if(!i.length)return e;var o=i.map((function(e){var t=e.getWordErrIfCalc("selector")||e.getWordErrIfCalc("s")||"&",r=e.children.map((function(e){return e.getWord("_contents")})).join(" "),i=e.words.filter((function(e){return"selector"!==e.key&&"s"!==e.key}));if(r.includes("{")){if("&"!==t)throw"Can't have a rule with braces when a selector is specified. '"+t;if(i.length)throw"Can't have attributes when a selector is specified."}else{for(var o=0,a=i;o<a.length;o++){var s=a[o];if(s.isExpr)throw"Props of a CSS tag can't be expressions, since they're inserted as a stylesheet";var l=n(s.key,s.value);if(!l)throw"Unrecognized CSS property (of a CSS tag): "+s.key;for(var c in l)r="".concat(c,": ").concat(l[c],"; ").concat(r)}r=u(e.tag,t,r)}return r})).join(" ");return new w(e.tag,r(r([],e.words,!0),[new x("vg-css",o,!1)],!1),e.children.filter((function(e){return!t(e)})))}function u(e,t,r){void 0===t&&(t=".foo"),void 0===r&&(r="%%%");for(var n={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},i=t,o=[],a=0,s=j(e,":").slice(1);a<s.length;a++){var l=s[a];if(["hover","focus","active","focus-within","focus-visible","disabled","visited","checked"].includes(l))i="".concat(i,":").concat(l);else if("last"===l||"first"===l)i="".concat(i,":").concat(l,"-child");else if("odd"===l||"even"===l)i="".concat(i,":nth-child(").concat(l,")");else if("."===l[0])i="".concat(i).concat(l);else if("!"===l[0]){var c=".dummySelectorHREKJSBLLI",d=u("thisPartIsIgnored:"+l.slice(1),c,"%%%").split("{")[0].trim(),f=d.slice(d.indexOf(c)+c.length);i="".concat(i,":not(").concat(f,")")}else if("["===l[0]&&"]"===l[l.length-1])i=l.slice(1,l.length-1).replace(/\&/g,i);else if("@"===l[0])o.unshift(l);else if("<"===l[0]&&n[l.slice(1)])o.unshift("@media (max-width: ".concat(n[l.slice(1)]-1,"px)"));else if(n[l])o.unshift("@media (min-width: ".concat(n[l],"px)"));else if("motion-safe"===l)o.unshift("@media (prefers-reduced-motion: no-preference)");else if("motion-reduce"===l)o.unshift("@media (prefers-reduced-motion: reduce)");else if(l)throw"Unknown style variant: '".concat(l,"'")}for(var p="".concat(i," { ").concat(r," }"),g=0,h=o;g<h.length;g++){var m=h[g];p="".concat(m," {\n")+p.split("\n").map((function(e){return"  ".concat(e)})).join("\n")+"\n}"}return p}function d(e,t){for(var r=new w(t.tag||e.tag,e.words,e.children),n=function(e,t){if("tag"===e)return"continue";if(void 0===t)return"continue";if(r.words.find((function(t){return t.key===e&&t.isExpr})))throw"Clone can't overwrite attribute '".concat(e,"' that is bound to an expression");r.words=r.words.filter((function(t){return t.key!==e})),null!==t&&r.words.push(new x(e,t,!1))},i=0,o=Object.entries(t);i<o.length;i++){var a=o[i];n(a[0],a[1])}return r}function f(e){return function(t){return new w(t.tag,t.words.map((function(t){return e(t)})),t.children)}}var p=f((function(e){return"vg-do"===e.key?new x("ref","$el => { if (!$el || $el.ranonce) return; $el.ranonce = true; ".concat(e.value," }"),!0):e})),g=f((function(e){return e.key.startsWith("vg-let:")?new x("v-for","".concat(e.key.slice(7)," in [").concat(e.value,"]"),!1):e})),h=f((function(e){return"vg-each"===e.key?new x("vg-each:it",e.value,!1):e})),m=f((function(e){return e.key.startsWith("vg-each:")?new x("v-for","(".concat(e.key.slice(8),",").concat(e.key.slice(8),"_i) in ").concat(e.value),!1):e})),b=f((function(e){return e.value.includes("$win")?new x(e.key,e.value.replace(/\$win/g,"(Array.constructor('return window')())"),e.isExpr):e}));function v(e){var t;return e=function(e){var t=e.words.findIndex((function(e){return">"===e.key}));if(t<0)return e;var r=e.words[t+1];if(!r)throw"Tag name expected after >";if(r.value)throw"Tag name after > cannot have a value. It's a tag, obviously";var n=e.words.slice(t+2),i=e.words.slice(0,t);return new w(e.tag,i,[new w(r.key,n,e.children.slice())])}(e),e=function(e){var t,r=e.tag.split(":"),n=r[0],i=r.slice(1),o=n.split("").reduce((function(e,t){return/[A-Za-z0-9_|\-]/.test(t)?e.slice(-1)[0].text+=t:e.push({prefix:t,text:""}),e}),[{text:"",prefix:""}]).filter((function(e){return e.text})),a=(null===(t=o.filter((function(e){return!e.prefix}))[0])||void 0===t?void 0:t.text)||"div",s=o.filter((function(e){return"."===e.prefix})).map((function(e){return e.text})),l=o.filter((function(e){return"#"===e.prefix})).map((function(e){return e.text}));if(l.length>1)throw"Can't have more than 1 ID in tag name: '".concat(e.tag,"'");for(var c=e.words.slice(),u=0,d=s;u<d.length;u++){var f=d[u];c.push(new x("."+f,"",!1))}for(var p=0,g=l;p<g.length;p++){f=g[p];c.push(new x("id",f,!1))}for(var h=0,m=i;h<m.length;h++){f=m[h];c.push(new x("_mainArg",f,!1))}return new w(a,c,e.children)}(e),e=function(e){var t=e.getWordErrIfCalc("fx");if(!t)return e;var r=!1,n=!1,i=!1;"!"===t[0]&&(r=!0,t=t.slice(1)),"|"===t[0]&&(i=!0,t=t.slice(1)),"-"===t[0]&&(n=!0,t=t.slice(1)),"!"===t[0]&&(r=!0,t=t.slice(1));var o=i?"column":r||n?"row":"";r&&(o+="-reverse");var a={fx:null,style_display:"flex"};o&&(a["style_flex-direction"]=o);var s={c:"center",fs:"flex-start",fe:"flex-end",s:"start",e:"end",l:"left",r:"right",x:"stretch"},l=t.split(".").map((function(e){return s[e]||e})),c=l[0],u=l[1],f=l[2];return c&&(a["style_justify-content"]=c),u&&(a["style_align-items"]=u),f&&(a["style_align-content"]=f),d(e,a)}(e=function(e){var t=e.words.flatMap((function(e){return"sz"===e.key?[new x("style_width",e.value,e.isExpr),new x("style_height",e.value,e.isExpr)]:"px"===e.key?[new x("style_padding-left",e.value,e.isExpr),new x("style_padding-right",e.value,e.isExpr)]:"py"===e.key?[new x("style_padding-top",e.value,e.isExpr),new x("style_padding-bottom",e.value,e.isExpr)]:"mx"===e.key?[new x("style_margin-left",e.value,e.isExpr),new x("style_margin-right",e.value,e.isExpr)]:"my"===e.key?[new x("style_margin-top",e.value,e.isExpr),new x("style_margin-bottom",e.value,e.isExpr)]:"circ"!==e.key||e.value||e.isExpr?"d"!==e.key||e.isExpr?[e]:[new x("style_display",a[e.value]||e.value,e.isExpr)]:[new x("style_border-radius","100%",e.isExpr)]}));return new w(e.tag,t,e.children)}(e=function(e){if("d"===e.tag)return d(e,{tag:"div"});if("s"===e.tag)return d(e,{tag:"span"});"fr"===e.tag&&(e=d(e,{tag:"f","style_flex-direction":"row"}));"fc"===e.tag&&(e=d(e,{tag:"f","style_flex-direction":"column"}));"f"===e.tag&&(e=d(e,{tag:"flex"}));"flex"===e.tag&&e.getWord("al")&&(e=d(e,{fx:e.getWordErrIfCalc("al"),al:null}));return"flex"===e.tag?d(e,{tag:"div",style_display:"flex",fx:e.getWord("_mainArg")||void 0,_mainArg:null}):"ib"===e.tag||"inline-block"===e.tag?d(e,{tag:"div",style_display:"inline-block"}):e}(e=new w((t=e).tag,t.words.flatMap((function(e){return"."===e.key[0]&&e.key.slice(1).includes(".")?e.key.slice(1).split(".").map((function(t){return new x("."+t,e.value,e.isExpr)})):[e]})),t.children)))),e=function(e){var t=e.words.flatMap((function(e){var t=n(e.key,e.value);return t?Object.keys(t).map((function(r){return new x("style_".concat(r),t[r],e.isExpr)})):e}));return new w(e.tag,t,e.children)}(e),e=function(e){return e.getWord("_mainArg")?d(e,{_mainArg:null,type:e.getWordErrIfCalc("_mainArg")}):e}(e=o(e)),e=function(e){var t=[],n=e.words.flatMap((function(e){if("*"!==e.key[0])return[e];if(e.isExpr)throw"Stylesheet CSS attribute '".concat(e.key,"' must be a literal, not an expression like '").concat(e.value,"'");var r="css";return e.key.includes(":")&&(r+=":"+e.key.split(":").slice(1).join(":")),t.push(new w(r,[new x(e.key.slice(1).split(":")[0],e.value,!1)])),[]}));return t.length?new w(e.tag,n,r(r([],t,!0),e.children,!0)):e}(e),e=function(e){var t=e.getWord("vg-css");if(!t)return e;var r="\n        if ($el.$el) $el = $el.$el;\n        const d = $el.ownerDocument; \n        let st = null;\n        if (!$el.vgcssKey) {\n            $el.vgcssKey = 'vg_' + String((Math.random()+1).toString(36).slice(7));\n            st = d.head.appendChild(d.createElement('style'));\n            st.dataset[$el.vgcssKey] = '';\n            $el.dataset.vgcss = $el.vgcssKey;\n        } else {\n            st = d.querySelector('*[data-' + $el.vgcssKey + ']');\n        }\n        st.innerText = ".concat(JSON.stringify(t),".replace(/&/g, '*[data-vgcss=' + $el.vgcssKey + ']');\n    ").replace(/\n/g,"").replace(/[ \t]+/g," ").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return d(e,{"vg-css":null,":ref":"$el => { ".concat(r," }")})}(e=c(e)),e=p(e),e=g(e),e=h(e),e=m(e),e=b(e),new w(e.tag,e.words,e.children.map((function(e){return v(e)})))}function y(e,t,r){void 0===r&&(r=2);for(var n=Array.from(Array(r)).map((function(){return[]})),i=0,o=e;i<o.length;i++){for(var a=o[i],s=t(a),l="number"==typeof s?s:s?0:1;n.length<l+1;)n.push([]);n[l].push(a)}return n}function k(e,t){void 0===t&&(t=!1);var r=[];if("_html"===e.tag)r.push(e.getWord("_contents")||"");else{r.push("<",e.tag);var n=function(e,t){return void 0===t&&(t=!1),e.replace(t?/'/g:/"/g,t?"&#x27;":"&quot;")},i=function(e,t){var r,n;e.length&&(null===(r=t.start)||void 0===r||r.call(t),e.forEach((function(e,r){var n;r&&(null===(n=t.between)||void 0===n||n.call(t)),t.each(e,r)})),null===(n=t.end)||void 0===n||n.call(t))},o=y(e.words,(function(e){return e.key.startsWith("style_")?0:e.key.startsWith(".")?1:2}),3),a=o[0],s=o[1],l=o[2],c=y(s,(function(e){return e.isExpr})),u=c[0];i(c[1],{start:function(){return r.push(' class="')},each:function(e){if(r.push(e.key.slice(1)),e.value)throw"CSS-Class attributes cannot have a static value. For a condition, use curly braces or simply no quotes. -- : "+e.key},between:function(){return r.push(" ")},end:function(){return r.push('"')}}),i(u,{start:function(){return r.push(" :class='{")},each:function(e){var t=void 0===e.value?"true":e.isExpr?e.value:JSON.stringify(e.value);r.push(JSON.stringify(e.key.slice(1)),": ",n(t,!0))},between:function(){return r.push(", ")},end:function(){return r.push("}'")}});var d=y(a,(function(e){return e.isExpr})),f=d[0];i(d[1],{start:function(){return r.push(' style="')},each:function(e){return r.push(e.key.slice(6),": ",e.value)},between:function(){return r.push("; ")},end:function(){return r.push('"')}}),i(f,{start:function(){return r.push(" :style='{")},each:function(e){if(void 0===e.value)throw"Style keys must have a value: "+e.key.slice(6);var t=e.isExpr?e.value:JSON.stringify(e.value);r.push(JSON.stringify(e.key.slice(6)),": ",n(t,!0))},between:function(){return r.push(", ")},end:function(){return r.push("}'")}}),i(l,{each:function(e){if(void 0===e.value)r.push(" ",e.key);else{var t=e.isExpr&&!e.key.startsWith("v-")&&!e.key.startsWith("x-");r.push(" ",t?":":"",e.key),r.push('="',n(e.value),'"')}}}),r.push(">")}if(e.children.length){var p=t&&(e.children.length>1||e.children[0]&&("_html"!==e.children[0].tag||(e.children[0].getWord("_contents")||"").includes("\n")));p&&r.push("\n");for(var g=0,h=e.children;g<h.length;g++){var m=h[g];p&&m!==e.children[0]&&r.push("\n");var b=k(m,t);p&&(b=b.split("\n").map((function(e){return"  ".concat(e)})).join("\n")),r.push(b)}p&&r.push("\n")}return["_html","area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].includes(e.tag.toLowerCase())||r.push("</".concat(e.tag,">")),r.join("")}var w=function(){function e(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=[]),this.tag=e,this.words=t,this.children=r}return e.prototype.getWord=function(e){var t;return null===(t=this.words.find((function(t){return t.key===e})))||void 0===t?void 0:t.value},e.prototype.getWordErrIfCalc=function(e){var t=this.words.find((function(t){return t.key===e}));if(!t)return"";if(t.isExpr)throw"Attribute '".concat(t.key,"' cannot be an expression.");return t.value},e}(),x=function(e,t,r){this.key=e,this.value=t,this.isExpr=r};function _(e){var t=function(e){for(var t=e.replace(/\t/g,"        ").split("\n").map((function(e){var t=e.trimStart(),r=e.length-t.length;return{node:function(e){(e=E(e,"// ")[0]).startsWith("<")&&(e="-- "+e);e.startsWith("-- ")&&(e=" "+e);var t=E(e," -- "),r=t[0],n=t[1];if(!r)return S(n);var i=j(r.trim()," "),o=i[0],a=i.slice(1).map((function(e){var t=E(e,"="),r=t[0],n=t[1],i=function(e){if(!e.length)return[!1,""];var t=e[0],r=e[e.length-1];if(t===r&&e.length>1&&('"'===t||"'"===t))return[!1,e.slice(1,e.length-1)];var n="({`".indexOf(t),i=")}`".indexOf(r);if(n>=0&&n===i&&e.length>1)return[!0,"("===t?e.slice(1,e.length-1):e];if(!isNaN(Number(e)))return[!0,e];if("\"'`".indexOf(t)>=0)throw"Unterminated string quote in value: ".concat(e);return[!1,e]}(n),o=i[0],a=i[1];return":"===r[0]&&(r=r.slice(1),o=!0),("."===r[0]||r.startsWith("v-")||r.startsWith("x-"))&&n&&(o=!0),new x(r,a,o)})),s=n?[S(n)]:[];return new w(o,a,s)}(t),indent:r}})).filter((function(e){return"_html"!==e.node.tag||(e.node.getWord("_contents")||"").trim()})),r=[],n=[],i=function(e){(r=r.filter((function(t){return t.indent<e.indent}))).length?r.slice(-1)[0].node.children.push(e.node):n.push(e.node),r.push(e)},o=0,a=t;o<a.length;o++){i(a[o])}return n.map((function(e){return v(e)}))}(e);return{ast:t,toAstJson:function(){return JSON.stringify(t,void 0,2)},toVueTemplate:function(){return t.map((function(e){return k(e,!0)})).join("\n")}}}function j(e,t){void 0===t&&(t=" ");for(var r=[""],n=[],i=!1,o=0,a=e.split("");o<a.length;o++){var s=a[o],l="'\"({[`".indexOf(s);i?(r[r.length-1]+=s,i=!1):"\\"!==s?(s===n.slice(-1)[0]?n.pop():l>=0&&n.push("'\")}]`"[l]),s!==t||n.length?r[r.length-1]+=s:r.push("")):i=!0}return r}function E(e,t){var r=e.indexOf(t);return r<0?[e,""]:[e.substr(0,r),e.substr(r+t.length)]}var S=function(e){return new w("_html",[new x("_contents",e,!1)])};function z(e){return function(e,r){for(var n=[],i=[],o=function(e){var o=t(t({},e),{children:[]}),a=(i=i.filter((function(e){return r(e)<r(o)}))).slice(-1)[0];a?a.children.push(o):n.push(o),i.push(o)},a=0,s=e;a<s.length;a++){o(s[a])}return n}(e.replace(/\t/g,"        ").split("\n").filter((function(e){return e.trim()})).map((function(e){return{text:e.trimStart(),indent:e.length-e.trimStart().length}})).map((function(e){return t(t({},function(e){(e=O(e,"// ")[0]).startsWith("<")&&(e="-- "+e);e.startsWith("-- ")&&(e=" "+e);for(var t=O(e," -- "),r=t[0],n=t[1],i=(r=r.trim()).match(/(?=\S)[^"\s]*(?:"[^\\"]*(?:\\[\s\S][^\\"]*)*"[^"\s]*)*/g)||[""],o=i[0],a=i.slice(1),s=o.split("."),c=s[0],u=s.slice(1),d=O(c,"#"),f=d[0],p=d[1],g=f||(u.length||r.length?"div":"html"),h=0,m=u;h<m.length;h++){var b=m[h];a.push("."+b)}p&&a.push("id="+p);"d"===g?g="div":"s"===g?g="span":"f"===g||"fr"===g?(g="div",a.push("display=flex")):"fc"===g?(g="div",a.push("display=flex"),a.push("flex-direction=column")):"ib"===g&&(g="div",a.push("display=inline-block"));for(var v=[],y=0,k=a;y<k.length;y++){var w=O(b=k[y],"="),x=w[0],_=w[1],j=!1,E="attr";'"'===(null==_?void 0:_[0])?_=_.slice(1,_.length-1):"{"===(null==_?void 0:_[0])&&(_=_.slice(1,_.length-1),j=!0),":"===x[0]&&(j=!0,x=x.slice(1)),"."===x[0]&&(E="class",x=x.slice(1)),"*"===x[0]&&(E="style",x=x.slice(1)),"class"===E&&_&&(j=!0);for(var S=N(x=W(x),_),z=0,C=Object.keys(S);z<C.length;z++){var $=C[z],J=S[$];l.includes($)&&"attr"===E&&(E="style"),x.startsWith("attr-")&&(E="attr",x=x.slice(5)),"style"===E&&!j&&J&&(J=J.split(" ").map((function(e){return/^-?([0-9]*\.)?[0-9]+q$/.test(e)?"".concat(.25*parseFloat(e),"rem"):e})).join(" ")),v.push({key:$,value:J||void 0,isExpr:j,kind:E})}}return{tag:g,attrs:v,innerHtml:n||void 0,children:[]}}(e.text)),{info:e})})),(function(e){return e.info.indent}))}function O(e,t){var r=e.indexOf(t);return r<0?[e]:[e.substr(0,r),e.substr(r+t.length)]}function W(e){return s[e]||e}function C(e){var t=[],r=function(e){return e===e.toUpperCase()};e.split("").forEach((function(n,i){var o=n.toLowerCase(),a=t[t.length-1],s=e[i-1];if("-"!==n)return!a||"-"===s||r(n)&&!r(s)?t.push(o):void(t[t.length-1]+=o)}));var n=function(e){return e[0].toUpperCase()+e.slice(1)};return{toPascal:function(){return t.map(n).join("")},toCamel:function(){return t.map((function(e,t){return t?n(e):e})).join("")},toSnake:function(){return t.join("-")}}}var $={c:"center",fs:"flex-start",fe:"flex-end",s:"start",e:"end",l:"left",r:"right",x:"stretch"};function N(e,t){var r;if("px"===e)return{"padding-left":t,"padding-right":t};if("py"===e)return{"padding-top":t,"padding-bottom":t};if("mx"===e)return{"margin-left":t,"margin-right":t};if("my"===e)return{"margin-top":t,"margin-bottom":t};if("sz"===e)return{width:t,height:t};if("circ"===e)return{"border-radius":"100%"};if("al"===e){var n=t.split(".").map((function(e){return $[e]||e}));if(n.length>2)throw"Can't have >2 parts: al=".concat(t);return n[1]?{"justify-content":n[0],"align-items":n[1]}:{"justify-content":n[0]}}return"display"===e&&J[t]?{display:J[t]}:((r={})[e]=t,r)}var J={b:"block",i:"inline",f:"flex",g:"grid",ib:"inline-block",if:"inline-flex",ig:"inline-grid"};function A(e){var t=z(e);return{ast:t,toVueTemplate:function(e){return void 0===e&&(e=!1),t.map((function(t){return V(t,e)})).join(e?"\n":"")},toRenderFunc:function(){return I(t[0])}}}function I(e,t){if(void 0===t&&(t={ce:"/*#__PURE__*/React.createElement",className:"className"}),"html"===e.tag)return JSON.stringify(e.innerHtml||"");for(var r=new Map,n=new Map,i=new Map,o=function(e){return" { "+Array.from(e.entries()).map((function(e){var t=e[0],r=e[1];return"".concat(JSON.stringify(t),": ").concat(r)})).join(", ")+"} "},a=0,s=e.attrs;a<s.length;a++){var l=void 0===(f=s[a]).value?"true":f.isExpr?f.value:JSON.stringify(f.value);"style"===f.kind?(n.set(C(f.key).toCamel(),l),r.set("style",o(n))):"class"===f.kind?(i.set(f.key,l),r.set(t.className,"classNames(".concat(o(i),")"))):r.set(f.key,l)}var c=[];c.push("".concat(t.ce,"(").concat(JSON.stringify(e.tag),", ")),r.size?c.push(o(r)):c.push("null"),e.innerHtml&&c.push(", "+JSON.stringify(e.innerHtml));for(var u=0,d=e.children;u<d.length;u++){var f=d[u];c.push(", "+I(f,t))}return c.push(")"),c.join("")}function V(e,t){void 0===t&&(t=!1);var r=[];if("html"===e.tag)r.push(e.innerHtml||"");else{r.push("<",e.tag);var n=function(e,t){return void 0===t&&(t=!1),e.replace(/&/g,"&amp;").replace(t?/'/g:/"/g,t?"&#x27;":"&quot;").replace(/>/g,"&gt;")},i=function(e,t){var r,n;e.length&&(null===(r=t.start)||void 0===r||r.call(t),e.forEach((function(e,r){var n;r&&(null===(n=t.between)||void 0===n||n.call(t)),t.each(e,r)})),null===(n=t.end)||void 0===n||n.call(t))},o=["class","style","attr"].map((function(t){return e.attrs.filter((function(e){return e.kind===t}))})),a=o[0],s=o[1],l=o[2],c=y(a,(function(e){return e.isExpr})),u=c[0];i(c[1],{start:function(){return r.push(' class="')},each:function(e){if(r.push(e.key),void 0!==e.value)throw"CSS-Class attributes cannot have a static value. For a condition, use curly braces or simply no quotes. -- : "+e.key},between:function(){return r.push(" ")},end:function(){return r.push('"')}}),i(u,{start:function(){return r.push(" :class='{")},each:function(e){var t=void 0===e.value?"true":e.isExpr?e.value:JSON.stringify(e.value);r.push(JSON.stringify(e.key),": ",n(t,!0))},between:function(){return r.push(", ")},end:function(){return r.push("}'")}});var d=y(s,(function(e){return e.isExpr})),f=d[0];i(d[1],{start:function(){return r.push(' style="')},each:function(e){return r.push(e.key,": ",e.value)},between:function(){return r.push("; ")},end:function(){return r.push('"')}}),i(f,{start:function(){return r.push(" :style='{")},each:function(e){if(void 0===e.value)throw"Style keys must have a value: "+e.key;var t=e.isExpr?e.value:JSON.stringify(e.value);r.push(JSON.stringify(e.key),": ",n(t,!0))},between:function(){return r.push(", ")},end:function(){return r.push("}'")}}),i(l,{each:function(e){void 0===e.value?r.push(" ",e.key):(r.push(" ",e.isExpr?":":"",e.key),r.push('="',n(e.value),'"'))}}),r.push(">"),e.innerHtml&&r.push(e.innerHtml)}for(var p=0,g=e.children;p<g.length;p++){var h=V(g[p],t);t&&(h=h.split("\n").map((function(e){return"\n  ".concat(e)})).join("\n")),r.push(h)}return t&&r.push("\n"),["html","area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].includes(e.tag.toLowerCase())||r.push("</".concat(e.tag,">")),r.join("")}function q(e){for(;;){var t=e.indexOf("vugReact`");if(t<0)break;var r=e.indexOf("`",t+10),n=e.substring(t+9,r),i=A(n=n.replace(/@click/g,":onClick")).toRenderFunc();i=(i=i.replace(/\{\{/g,'" + ')).replace(/\}\}/g,' + "'),e=e.slice(0,t)+i+e.slice(r+1),console.log(e)}return e}return e.ViteReactPlugin=function(){return{name:"vite-plugin-react-vug",enforce:"pre",transform:function(e,t){if(/\.m?(j|t)sx?$/.test(t))return q(e)}}},e.ViteTransformPlugin=function(e){return void 0===e&&(e={}),{name:"vite-plugin-vue-vug",enforce:"pre",transform:function(t,r){if(r.endsWith(".vue")){var n=/<template lang=['"]?vug['" >]/g.exec(t);if(n){var i=n.index,o=t.indexOf(">",i)+1,a=t.lastIndexOf("</template>"),s=t.substring(o,a),l=(e._tempLangVersion||1.2)>=2?_(s).toVueTemplate():A(s).toVueTemplate();return t.substring(0,i)+"<template>"+l+t.substring(a)}}}}},e.VueConsolidatePlugin=function(){return{render:function(e,t,r){try{r(void 0,A(e).toVueTemplate())}catch(e){r(String(e))}}}},e.load=function(e,t){return void 0===t&&(t={}),(t._tempLangVersion||1.2)>=2?_(e):A(e)},e.transformVugReact=q,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
